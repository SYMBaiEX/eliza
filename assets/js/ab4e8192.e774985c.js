"use strict";(self.webpackChunk_elizaos_docs=self.webpackChunk_elizaos_docs||[]).push([[17075],{6589:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>r,contentTitle:()=>a,default:()=>p,frontMatter:()=>t,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"cli/update","title":"Update Command","description":"Update your project\'s ElizaOS dependencies to the latest published versions","source":"@site/docs/cli/update.md","sourceDirName":"cli","slug":"/cli/update","permalink":"/docs/cli/update","draft":false,"unlisted":false,"editUrl":"https://github.com/elizaos/eliza/tree/v2-develop/packages/docs/docs/cli/update.md","tags":[],"version":"current","lastUpdatedBy":"Sayo","lastUpdatedAt":1746383096000,"sidebarPosition":11,"frontMatter":{"sidebar_position":11,"title":"Update Command","description":"Update your project\'s ElizaOS dependencies to the latest published versions","keywords":["CLI","update","dependencies","versions","packages","maintenance"],"image":"/img/cli.jpg"},"sidebar":"tutorialSidebar","previous":{"title":"Test","permalink":"/docs/cli/test"},"next":{"title":"Introduction","permalink":"/docs/rest/eliza-os-api"}}');var l=s(31085),d=s(71184);const t={sidebar_position:11,title:"Update Command",description:"Update your project's ElizaOS dependencies to the latest published versions",keywords:["CLI","update","dependencies","versions","packages","maintenance"],image:"/img/cli.jpg"},a="Update Command",r={},o=[{value:"Usage",id:"usage",level:2},{value:"Options",id:"options",level:2},{value:"Update Process",id:"update-process",level:2},{value:"Project Type Detection",id:"project-type-detection",level:2},{value:"Workspace References",id:"workspace-references",level:2},{value:"Examples",id:"examples",level:2},{value:"Update Dependencies",id:"update-dependencies",level:3},{value:"Version Management",id:"version-management",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Dependency Resolution Problems",id:"dependency-resolution-problems",level:3},{value:"Build Failures",id:"build-failures",level:3},{value:"Version Mismatches",id:"version-mismatches",level:3},{value:"Related Commands",id:"related-commands",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,d.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"update-command",children:"Update Command"})}),"\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"update"})," command updates all ElizaOS dependencies (",(0,l.jsx)(n.code,{children:"@elizaos/*"}),") in your project or plugin to the latest published versions available on npm. This helps you keep your ElizaOS installation current with the latest features, improvements, and bug fixes."]}),"\n",(0,l.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"elizaos update\n"})}),"\n",(0,l.jsx)(n.h2,{id:"options",children:"Options"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"-c"}),", ",(0,l.jsx)(n.code,{children:"--check"}),": Check for available updates without applying them. The command will list the current version, the latest available version, and the packages that would be updated, but will not perform the update or installation."]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"update-process",children:"Update Process"}),"\n",(0,l.jsxs)(n.p,{children:["When you run the ",(0,l.jsx)(n.code,{children:"update"})," command, ElizaOS will:"]}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Detect whether you're in a project or plugin directory."}),"\n",(0,l.jsxs)(n.li,{children:["Find the latest published version of ",(0,l.jsx)(n.code,{children:"@elizaos/cli"})," on npm."]}),"\n",(0,l.jsxs)(n.li,{children:["Identify all ",(0,l.jsx)(n.code,{children:"@elizaos/*"})," packages in your ",(0,l.jsx)(n.code,{children:"package.json"})," (dependencies and devDependencies), excluding workspace references."]}),"\n",(0,l.jsx)(n.li,{children:"Prompt for confirmation before proceeding."}),"\n",(0,l.jsxs)(n.li,{children:["Update all identified ElizaOS packages to the determined latest version using ",(0,l.jsx)(n.code,{children:"bun install"})," or ",(0,l.jsx)(n.code,{children:"bun add"}),"."]}),"\n",(0,l.jsx)(n.li,{children:"Automatically rebuild the project or plugin after updating dependencies."}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"project-type-detection",children:"Project Type Detection"}),"\n",(0,l.jsx)(n.p,{children:"The update command automatically detects whether you're working with:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Project"}),": A complete ElizaOS project with agents"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Plugin"}),": An ElizaOS plugin that provides extensions"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"It determines this by checking the package.json metadata, particularly:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["If the package name starts with ",(0,l.jsx)(n.code,{children:"@elizaos/plugin-"})]}),"\n",(0,l.jsxs)(n.li,{children:["If keywords include ",(0,l.jsx)(n.code,{children:"elizaos-plugin"})]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"workspace-references",children:"Workspace References"}),"\n",(0,l.jsx)(n.p,{children:"The command properly handles workspace references in monorepo setups:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Packages with versions like ",(0,l.jsx)(n.code,{children:"workspace:*"})," are identified as workspace references"]}),"\n",(0,l.jsx)(n.li,{children:"These are skipped during the update process as they're meant to be managed by the monorepo"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,l.jsx)(n.h3,{id:"update-dependencies",children:"Update Dependencies"}),"\n",(0,l.jsx)(n.p,{children:"Update all ElizaOS dependencies in the current directory to the latest published version:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"elizaos update\n"})}),"\n",(0,l.jsx)(n.p,{children:"Example output (versions may vary):"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"Updating project dependencies...\nCurrent CLI version: 1.3.5\nLatest available CLI version: 1.4.0\nThe following ElizaOS packages will be updated to version 1.4.0:\n  - @elizaos/core (^1.3.0)\n  - @elizaos/runtime (^1.3.2)\n  - @elizaos/knowledge (workspace:*) -> Skipped (workspace reference)\n  - @elizaos/models (^1.2.0)\n  - @elizaos/plugin-discord (^1.1.0)\nProceed with update? (Y/n) \u203a Y\nUpdating @elizaos/core@1.4.0...\nUpdating @elizaos/runtime@1.4.0...\nUpdating @elizaos/models@1.4.0...\nUpdating @elizaos/plugin-discord@1.4.0...\nDependencies updated successfully.\nInstalling updated dependencies...\n+ @elizaos/core@1.4.0\n+ @elizaos/runtime@1.4.0\n+ @elizaos/models@1.4.0\n+ @elizaos/plugin-discord@1.4.0\nInstalled 4 packages\nBuilding project...\nBuild completed successfully\nProject successfully updated to the latest ElizaOS packages (1.4.0)\n"})}),"\n",(0,l.jsx)(n.h2,{id:"version-management",children:"Version Management"}),"\n",(0,l.jsxs)(n.p,{children:["The update command currently updates all ",(0,l.jsx)(n.code,{children:"@elizaos/*"})," packages (excluding workspace references) to the single latest published version found for ",(0,l.jsx)(n.code,{children:"@elizaos/cli"}),". It will prompt for confirmation before proceeding."]}),"\n",(0,l.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,l.jsx)(n.p,{children:"Here are some recommended practices when updating ElizaOS dependencies:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Backup Your Project"}),": Always make a backup of your project before updating."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Test After Updating"}),": Make sure your project works correctly after updating."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Review Changelogs"}),": Check the ElizaOS changelog for any breaking changes between your current version and the latest version."]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,l.jsx)(n.h3,{id:"dependency-resolution-problems",children:"Dependency Resolution Problems"}),"\n",(0,l.jsx)(n.p,{children:"If you encounter issues with dependency resolution:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Run the command with full Node.js error stack traces\nNODE_OPTIONS=--stack-trace-limit=100 elizaos update\n"})}),"\n",(0,l.jsx)(n.h3,{id:"build-failures",children:"Build Failures"}),"\n",(0,l.jsx)(n.p,{children:"If the build fails after updating:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Check the build output for errors\n# Manually attempt to rebuild with verbose logging\nelizaos build --verbose\n"})}),"\n",(0,l.jsx)(n.h3,{id:"version-mismatches",children:"Version Mismatches"}),"\n",(0,l.jsx)(n.p,{children:"If you need a specific version rather than the latest published version:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Manually install the specific version needed\nbun install @elizaos/core@1.3.5\n"})}),"\n",(0,l.jsx)(n.h2,{id:"related-commands",children:"Related Commands"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"./build.md",children:"Build Command"}),": Build your project manually. (Assuming build command exists)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"/docs/cli/start",children:(0,l.jsx)(n.code,{children:"start"})}),": Start your project with updated dependencies."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"/docs/cli/dev",children:(0,l.jsx)(n.code,{children:"dev"})}),": Run your project in development mode."]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}},71184:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>a});var i=s(14041);const l={},d=i.createContext(l);function t(e){const n=i.useContext(d);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),i.createElement(d.Provider,{value:n},e.children)}}}]);